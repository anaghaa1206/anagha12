---
toc: true
comments: true
layout: post
title: Write Up
type: hacks
courses: { compsci: {week: 30} }
---


#### Collections

Blog Python Model code and SQLite Database.

From VSCode using SQLite3 Editor, show your unique collection/table in database, display rows and columns in the table of the SQLite database.

The database shows the company name, number of shares, purchase price, and current price
<iframe src="https://drive.google.com/file/d/1-gj9nBdpTeUEJ7e8lAQmXUG3N66usFkZ/preview" width="640" height="480" allow="autoplay"></iframe>

From VSCode model, show your unique code that was created to initialize table and create test data.
<iframe src="https://drive.google.com/file/d/1GpIFtSrWrvvAleRso_mCbtovsy1tqI8n/preview" width="640" height="480" allow="autoplay"></iframe>


Lists and Dictionaries

Blog Python API code and use of List and Dictionaries.

In VSCode using Debugger, show a list as extracted from database as Python objects.
In VSCode use Debugger and list, show two distinct example examples of dictionaries, show Keys/Values using debugger.

APIs and JSON
Blog Python API code and use of Postman to request and respond with JSON.

In VSCode, show Python API code definition for request and response using GET, POST, UPDATE methods. Discuss algorithmic condition used to direct request to appropriate Python method based on request method.
<iframe src="https://drive.google.com/file/d/1zTyAXXpxEsOcd-dyPLkiBv2m4EC9X4id/preview" width="640" height="480" allow="autoplay"></iframe>

POST:
I used the POST method to enter the company name, number of shares, purchase price, and current price into the log. Whenever the user logs this information the POST method is called.

GET:
I used the GET method recieve information about the stocks and have it displayed on the log. The GET method pulls from the database in the information.

In VSCode, show algorithmic conditions used to validate data on a POST condition.
<iframe src="https://drive.google.com/file/d/1JZsBbyXj5NKtHL_IxR1tkGkJvLBeWHPd/preview" width="640" height="480" allow="autoplay"></iframe>
In Postman, show URL request and Body requirements for GET, POST, and UPDATE methods.
In Postman, show the JSON response data for 200 success conditions on GET, POST, and UPDATE methods.

<iframe src="https://drive.google.com/file/d/185RjF4knCm-bQEEQAqQThEV7nHfPEq-X/preview" width="640" height="480" allow="autoplay"></iframe>

<iframe src="https://drive.google.com/file/d/18Lgh9hkgmks2-orG1DvzZ1_dCKN8-I0h/preview" width="640" height="480" allow="autoplay"></iframe>

In Postman, show the JSON response for error for 400 when missing body on a POST request.
<iframe src="https://drive.google.com/file/d/1TW3gxqvSS1J5axEqE04heRuI52A6wwob/preview" width="640" height="480" allow="autoplay"></iframe>
In Postman, show the JSON response for error for 404 when providing an unknown user ID to a UPDATE request.


Frontend
Blog JavaScript API fetch code and formatting code to display JSON.

In Chrome inspect, show response of JSON objects from fetch of GET, POST, and UPDATE methods.
<iframe src="https://drive.google.com/file/d/1PmlJHRYPFA2H9zozbF6UdmhdwrXf1ozA/preview" width="640" height="480" allow="autoplay"></iframe>
<iframe src="https://drive.google.com/file/d/1LhefkyxEhTsy86YkiowTpddd1Nfj88U4/preview" width="640" height="480" allow="autoplay"></iframe>
In the Chrome browser, show a demo (GET) of obtaining an Array of JSON objects that are formatted into the browsers screen.
<iframe src="https://drive.google.com/file/d/1LhefkyxEhTsy86YkiowTpddd1Nfj88U4/preview" width="640" height="480" allow="autoplay"></iframe>
In JavaScript code, describe fetch and method that obtained the Array of JSON objects.

```
async function fetchStocks() {
        let overallBalance = 0;

        try {
            const response = await fetch('http://127.0.0.1:8055/api/stock/stocks');
            const stocks = await response.json();
            const stocksTableBody = document.getElementById('stocksTable').getElementsByTagName('tbody')[0];
            stocksTableBody.innerHTML = ''; // Clear existing stocks
            stocks.forEach(stock => {
                const row = stocksTableBody.insertRow();
                const profitLoss = (stock.current_price - stock.purchase_price) * stock.shares;
                overallBalance += profitLoss; // Update overall balance

                const profitLossClass = profitLoss >= 0 ? 'profit' : 'loss';

                row.insertCell(0).textContent = stock.company_name;
                row.insertCell(1).textContent = stock.shares;
                row.insertCell(2).textContent = stock.purchase_price;
                row.insertCell(3).textContent = stock.current_price || 'N/A';
                const profitLossCell = row.insertCell(4);
                profitLossCell.textContent = profitLoss.toFixed(2);
                profitLossCell.classList.add(profitLossClass);
            });

            // Update the overall balance display
            document.getElementById('overallBalance').textContent = `Overall Balance: $${overallBalance.toFixed(2)}`;
            document.getElementById('overallBalance').classList.add(overallBalance >= 0 ? 'profit' : 'loss');

            // Dynamic message box logic
            let balanceMessage = overallBalance >= 0 ? "Congratulations on the recent successes in your investment journey! Your strategic decisions and patience are paying off, and it's a testament to your hard work and savvy. While it's important to celebrate your achievements, it's equally crucial to remain grounded. The market is very volatile, and you need to continue to make smart decisions with your money. Overconfidence can make you lose very quickly." : "We understand that the current situation with your investments might be disheartening, but remember, the journey of investing is akin to navigating the vast and unpredictable ocean. Just as the seasoned sailor uses the storms to learn and navigate better, this can be an invaluable moment for growth and resilience. Consider choosing safer investments and looking more towards the future than just short term goals. You can also try to get finacial help from someone who may know more than you.";
            const messageBox = document.getElementById('dynamicMessageBox') || document.createElement('div');
            messageBox.id = 'dynamicMessageBox';
            messageBox.textContent = balanceMessage;
            messageBox.style.marginTop = '20px';
            messageBox.style.fontWeight = 'bold';
            messageBox.style.color = overallBalance >= 0 ? '#28a745' : '#dc3545';
            const overallBalanceElement = document.getElementById('overallBalance');
            overallBalanceElement.after(messageBox);

        } catch (error) {
            console.error('Error fetching stocks:', error);
            alert('Error communicating with the backend. Make sure your server is running and accessible.');
        }
    }
```
In JavaScript code, show code that performs iteration and formatting of data into HTML.

```
async function fetchStocks() {
        let overallBalance = 0;

        try {
            const response = await fetch('http://127.0.0.1:8055/api/stock/stocks');
            const stocks = await response.json();
            const stocksTableBody = document.getElementById('stocksTable').getElementsByTagName('tbody')[0];
            stocksTableBody.innerHTML = ''; // Clear existing stocks
            stocks.forEach(stock => {
                const row = stocksTableBody.insertRow();
                const profitLoss = (stock.current_price - stock.purchase_price) * stock.shares;
                overallBalance += profitLoss; // Update overall balance

                const profitLossClass = profitLoss >= 0 ? 'profit' : 'loss';

                row.insertCell(0).textContent = stock.company_name;
                row.insertCell(1).textContent = stock.shares;
                row.insertCell(2).textContent = stock.purchase_price;
                row.insertCell(3).textContent = stock.current_price || 'N/A';
                const profitLossCell = row.insertCell(4);
                profitLossCell.textContent = profitLoss.toFixed(2);
                profitLossCell.classList.add(profitLossClass);
            });
        }
}
```

In the Chrome browser, show a demo (POST or UPDATE) gathering and sending input and receiving a response that show update. Repeat this demo showing both success and failure.

SUCCESS
<iframe src="https://drive.google.com/file/d/1ybbPyWGdLRYhIPaExU3Fih8XoeSKo8-u/preview" width="640" height="480" allow="autoplay"></iframe>

FAILURE
<iframe src="https://drive.google.com/file/d/1FP_Kx4QN5ZLVrQK1qUmcS5zUAZErY1cc/preview" width="640" height="480" allow="autoplay"></iframe>

In JavaScript code, show and describe code that handles success. Describe how code shows success to the user in the Chrome Browser screen.
```
if (response.ok) 
                alert('Stock added successfully!');
                fetchStocks(); // Refresh the stock list
```

In JavaScript code, show and describe code that handles failure. Describe how the code shows failure to the user in the Chrome Browser screen.
```
         catch (error) {
            console.error('Error fetching stocks:', error);
            alert('Error communicating with the backend. Make sure your server is running and accessible.');
        }
    
```

Optional/Extra, Algorithm Analysis
In the ML projects, there is a great deal of algorithm analysis. Think about preparing data and predictions.

<iframe src="https://drive.google.com/file/d/1iSSsbIm4o07TS6r2AyLMaye_n2KFyj08/preview" width="640" height="480" allow="autoplay"></iframe>

Show algorithms and preparation of data for analysis. This includes cleaning, encoding, and one-hot encoding.
- one-hot encoding converts each categorical value into a new categorical column and assigns a binary value of 1 or 0. In my ML the properties cut, color, and clarity apply to this.

Show algorithms and preparation for predictions.
- The code demonstrates training the RandomForestRegressor with the preprocessed features and then using it to predict the diamond prices. It also evaluates the performance using the mean squared error (MSE) of the predictions.

Discuss concepts and understanding of Decision Tree analysis algorithms.
- My code employs a RandomForestRegressor, which is an ensemble of Decision Trees. 
